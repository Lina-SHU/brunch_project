(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4271b95a"],{"1dde":function(t,e,c){var o=c("d039"),r=c("b622"),n=c("2d00"),a=r("species");t.exports=function(t){return n>=51||!o((function(){var e=[],c=e.constructor={};return c[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},5727:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r=Object(o["createVNode"])("div",{class:"loadingio-spinner-ellipsis-rg3crixpxzh"},[Object(o["createVNode"])("div",{class:"ldio-zmt4lrj3aj"},[Object(o["createVNode"])("div"),Object(o["createVNode"])("div"),Object(o["createVNode"])("div"),Object(o["createVNode"])("div"),Object(o["createVNode"])("div")])],-1),n=Object(o["createVNode"])("div",{class:"carts-heroheader mb-5"},[Object(o["createVNode"])("div",{class:"container"},[Object(o["createVNode"])("h2",{"data-aos":"flip-up",class:"text-white position-absolute top-50 bg-black px-5 py-2 lh-base"},[Object(o["createTextVNode"])(" 當日現做"),Object(o["createVNode"])("br"),Object(o["createTextVNode"])(" 美味到府 ")])])],-1),a={class:"container"},i=Object(o["createStaticVNode"])('<div class="row d-flex-center"><div class="col-md-6"><ul class="process d-flex justify-content-between list-unstyled"><li class="circle rounded-circle text-center bg-primary text-white py-lg-4 py-3">1. <br><span class="d-none d-lg-inline">清單確認</span><i class="material-icons icons text-primary">navigate_next</i></li><li class="circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3">2. <br><span class="d-none d-lg-inline">資料填寫</span><i class="material-icons icons text-primary">navigate_next</i></li><li class="circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3">3. <br><span class="d-none d-lg-inline">付款確認</span><i class="material-icons icons text-primary">navigate_next</i></li><li class="circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3">4. <br><span class="d-none d-lg-inline">完成訂單</span></li></ul></div></div><h3 class="text-center my-4 text-primary"><strong data-aos="flip-up" class="border-bottom border-primary d-inline-block border-4 pb-2">購物車</strong></h3>',2),s={class:"row d-flex-center my-5"},l={class:"col-md-8"},d=Object(o["createVNode"])("i",{class:"material-icons me-2"},"delete",-1),u=Object(o["createTextVNode"])("刪除購物車"),b={class:"table-responsive"},p={class:"table text-primary text-nowrap",style:{"min-width":"500px"}},f=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{class:"text-center"}),Object(o["createVNode"])("th",{class:"text-center",width:"20%"},"餐點圖片"),Object(o["createVNode"])("th",{class:"text-center"},"餐點名稱"),Object(o["createVNode"])("th",{class:"text-center",width:"30%"},"數量"),Object(o["createVNode"])("th",{class:"text-center"},"價格")])],-1),h=Object(o["createVNode"])("i",{class:"btn-outline-danger border-0 rounded-2 material-icons p-1"},"delete",-1),j={class:"py-3"},O={class:"input-group"},g=Object(o["createVNode"])("i",{class:"material-icons"},"add",-1),v={class:"text-end"},m={colspan:"5",class:"fw-bold text-end fs-5"},y={class:"d-flex justify-content-between"},x=Object(o["createTextVNode"])("繼續購物");function N(t,e,c,N,V,w){var C=Object(o["resolveComponent"])("loading"),k=Object(o["resolveComponent"])("router-link"),B=Object(o["resolveComponent"])("footerSection");return Object(o["openBlock"])(),Object(o["createBlock"])("section",null,[Object(o["createVNode"])(C,{active:V.isLoading,"onUpdate:active":e[1]||(e[1]=function(t){return V.isLoading=t})},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["active"]),n,Object(o["createVNode"])("div",a,[i,Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",l,[V.carts.carts&&V.carts.carts.length>=2?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,class:"btn btn-outline-danger border-0 d-flex align-items-center",onClick:e[2]||(e[2]=Object(o["withModifiers"])((function(){return w.deleteAllCart&&w.deleteAllCart.apply(w,arguments)}),["prevent"]))},[d,u])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",b,[Object(o["createVNode"])("table",p,[f,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(V.carts.carts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id,class:"align-middle"},[Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:Object(o["withModifiers"])((function(t){return w.deleteCart(e.id)}),["prevent"]),class:" d-flex-center align-items-center"},[h],8,["onClick"])]),Object(o["createVNode"])("td",j,[Object(o["createVNode"])("div",{class:"product-img shadow",style:[{"background-image":"url(".concat(e.product.imageUrl)},{"background-size":"cover","background-position":"30% center",height:"75px"}]},null,4)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])(k,{to:{path:"/product/".concat(e.product.id)},class:"cartProduct"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.product.title),1)]})),_:2},1032,["to"])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",O,[Object(o["createVNode"])("button",{class:["btn btn-sm btn-outline-primary",{disabled:e.qty<=1}],type:"button"},[Object(o["createVNode"])("i",{class:"material-icons",onClick:function(t){return w.editCart(e,e.qty-1)}},"remove",8,["onClick"])],2),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",min:"1",class:"form-control qty-input",disabled:"","onUpdate:modelValue":function(t){return e.qty=t}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.qty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{class:"btn btn-sm btn-outline-primary",type:"button",onClick:function(t){return w.editCart(e,e.qty+1)}},[g],8,["onClick"])])]),Object(o["createVNode"])("td",v,Object(o["toDisplayString"])(t.$toCurrency("".concat(e.total))),1)])})),128))]),Object(o["createVNode"])("tfoot",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("td",m," 結帳金額： NT$ "+Object(o["toDisplayString"])(t.$toCurrency("".concat(V.carts.total))),1)])])])]),Object(o["createVNode"])("div",y,[Object(o["createVNode"])(k,{to:"/products",class:"btn btn-lg btn-outline-primary"},{default:Object(o["withCtx"])((function(){return[x]})),_:1}),Object(o["createVNode"])("button",{class:"btn btn-lg btn-primary",onClick:e[3]||(e[3]=function(){return w.goTOpay&&w.goTOpay.apply(w,arguments)})},"結帳去")])])])]),Object(o["createVNode"])(B)])}c("99af");var V=c("aee4"),w=c("fd2d"),C={data:function(){return{carts:{},isLoading:!1}},components:{footerSection:w["a"]},methods:{getCarts:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart");this.$http.get(e).then((function(e){t.isLoading=!1,e.data.success&&(t.carts=e.data.data)})).catch((function(t){console.log(t)}))},deleteCart:function(t){var e=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart/").concat(t);this.$http.delete(c).then((function(t){t.data.success&&(e.isLoading=!1,e.$swal({toast:!0,title:"已成功刪除餐點",icon:"success",timer:1500,showConfirmButton:!1,position:"top"}),e.getCarts(),V["a"].emit("product-cart"))})).catch((function(t){console.log(t)}))},deleteAllCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/carts");this.$http.delete(e).then((function(e){e.data.success&&(t.isLoading=!1,t.$swal({toast:!0,title:"購物車清空囉！",icon:"success",timer:1500,showConfirmButton:!1,position:"top"}),t.getCarts(),V["a"].emit("product-cart"),t.$router.push("/products"))})).catch((function(t){console.log(t)}))},editCart:function(t,e){var c=this;this.isLoading=!0;var o={data:{product_id:t.product.id,qty:e}},r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart/").concat(t.id);this.$http.put(r,o).then((function(t){t.data.success&&(c.isLoading=!1,V["a"].emit("product-cart"),c.getCarts())})).catch((function(t){console.log(t)}))},goTOpay:function(){this.carts.carts&&0===this.carts.carts.length?(this.$swal({toast:!0,title:"購物車不能是空的唷！",icon:"error",timer:1500,showConfirmButton:!1,position:"top"}),this.$router.push("/products")):this.$router.push("/order")}},mounted:function(){var t=this;this.getCarts(),V["a"].on("product-cart",(function(){t.getCarts()}))}};C.render=N;e["default"]=C},"65f0":function(t,e,c){var o=c("861d"),r=c("e8b5"),n=c("b622"),a=n("species");t.exports=function(t,e){var c;return r(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!r(c.prototype)?o(c)&&(c=c[a],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var o=c("c04e"),r=c("9bf2"),n=c("5c6c");t.exports=function(t,e,c){var a=o(e);a in t?r.f(t,a,n(0,c)):t[a]=c}},"99af":function(t,e,c){"use strict";var o=c("23e7"),r=c("d039"),n=c("e8b5"),a=c("861d"),i=c("7b0b"),s=c("50c4"),l=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),p=c("2d00"),f=b("isConcatSpreadable"),h=9007199254740991,j="Maximum allowed index exceeded",O=p>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=u("concat"),v=function(t){if(!a(t))return!1;var e=t[f];return void 0!==e?!!e:n(t)},m=!O||!g;o({target:"Array",proto:!0,forced:m},{concat:function(t){var e,c,o,r,n,a=i(this),u=d(a,0),b=0;for(e=-1,o=arguments.length;e<o;e++)if(n=-1===e?a:arguments[e],v(n)){if(r=s(n.length),b+r>h)throw TypeError(j);for(c=0;c<r;c++,b++)c in n&&l(u,b,n[c])}else{if(b>=h)throw TypeError(j);l(u,b++,n)}return u.length=b,u}})},aee4:function(t,e,c){"use strict";var o=function(t){return{all:t=t||new Map,on:function(e,c){var o=t.get(e);o?o.push(c):t.set(e,[c])},off:function(e,c){var o=t.get(e);o&&(c?o.splice(o.indexOf(c)>>>0,1):t.set(e,[]))},emit:function(e,c){var o=t.get(e);o&&o.slice().map((function(t){t(c)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,c)}))}}};e["a"]=o()},e8b5:function(t,e,c){var o=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},fd2d:function(t,e,c){"use strict";var o=c("7a23"),r={class:"text-white bg-primary text-center py-4"},n=Object(o["createVNode"])("h2",{class:"h1 logo text-shadow"},"FRESH BRUNCH",-1),a=Object(o["createVNode"])("p",{class:"mb-0 mt-2"},"© 2021 All Rights Reserved.",-1);function i(t,e){return Object(o["openBlock"])(),Object(o["createBlock"])("footer",r,[n,a])}const s={};s.render=i;e["a"]=s}}]);
//# sourceMappingURL=chunk-4271b95a.063147da.js.map