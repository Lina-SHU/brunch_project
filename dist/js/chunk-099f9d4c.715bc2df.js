(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-099f9d4c"],{"1dde":function(t,e,c){var o=c("d039"),r=c("b622"),a=c("2d00"),n=r("species");t.exports=function(t){return a>=51||!o((function(){var e=[],c=e.constructor={};return c[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,c){var o=c("861d"),r=c("e8b5"),a=c("b622"),n=a("species");t.exports=function(t,e){var c;return r(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!r(c.prototype)?o(c)&&(c=c[n],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var o=c("c04e"),r=c("9bf2"),a=c("5c6c");t.exports=function(t,e,c){var n=o(e);n in t?r.f(t,n,a(0,c)):t[n]=c}},"99af":function(t,e,c){"use strict";var o=c("23e7"),r=c("d039"),a=c("e8b5"),n=c("861d"),i=c("7b0b"),s=c("50c4"),l=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),p=c("2d00"),f=b("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=p>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),j=u("concat"),m=function(t){if(!n(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)},O=!h||!j;o({target:"Array",proto:!0,forced:O},{concat:function(t){var e,c,o,r,a,n=i(this),u=d(n,0),b=0;for(e=-1,o=arguments.length;e<o;e++)if(a=-1===e?n:arguments[e],m(a)){if(r=s(a.length),b+r>v)throw TypeError(g);for(c=0;c<r;c++,b++)c in a&&l(u,b,a[c])}else{if(b>=v)throw TypeError(g);l(u,b++,a)}return u.length=b,u}})},aee4:function(t,e,c){"use strict";var o=function(t){return{all:t=t||new Map,on:function(e,c){var o=t.get(e);o?o.push(c):t.set(e,[c])},off:function(e,c){var o=t.get(e);o&&(c?o.splice(o.indexOf(c)>>>0,1):t.set(e,[]))},emit:function(e,c){var o=t.get(e);o&&o.slice().map((function(t){t(c)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,c)}))}}};e["a"]=o()},de8a:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r={class:"container position-relative"},a=Object(o["createVNode"])("button",{class:"navbar-toggler px-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(o["createVNode"])("span",{class:"material-icons",style:{"font-size":"28px"}},"menu")],-1),n={class:"dropdown cart-icon order-2"},i={key:0,class:"cart-number rounded-pill bg-danger text-white position-absolute px-2"},s={class:"collapse navbar-collapse",id:"navbar"},l={class:"navbar-nav align-items-center fs-5 ms-auto mb-2 mb-lg-0"},d=Object(o["createTextVNode"])("首頁"),u=Object(o["createTextVNode"])("關於我們"),b=Object(o["createTextVNode"])("餐點選購");function p(t,e,c,p,f,v){var g=Object(o["resolveComponent"])("router-link"),h=Object(o["resolveComponent"])("dropdown"),j=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("nav",{class:["navbar navbar-expand-lg opacity-90 fixed-top",[f.classList["bg-color"],f.classList["navbar-color"]]]},[Object(o["createVNode"])("div",r,[a,Object(o["createVNode"])(g,{class:"navbar-brand me-0 me-lg-1 flex-fill text-center text-lg-start",to:"/"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("h1",{class:["logo m-0",f.classList["text-color"]]},"FRESHBRUNCH",2)]})),_:1}),Object(o["createVNode"])("div",n,[Object(o["createVNode"])("a",{href:"#",class:["btn btn-secondary position-relative border-0 dropdown-btn px-2",f.classList["bg-color"]],type:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"outside"},[Object(o["createVNode"])("i",{class:["material-icons",f.classList["i-color"]],style:{"font-size":"28px"}},"shopping_cart",2),f.cart.carts?(Object(o["openBlock"])(),Object(o["createBlock"])("div",i,Object(o["toDisplayString"])(f.cart.carts.length),1)):Object(o["createCommentVNode"])("",!0)],2),Object(o["createVNode"])(h,{cart:f.cart,onGetCart:v.getCart},null,8,["cart","onGetCart"])]),Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])(g,{class:"nav-link",to:"/"},{default:Object(o["withCtx"])((function(){return[d]})),_:1}),Object(o["createVNode"])(g,{class:"nav-link",to:"/about"},{default:Object(o["withCtx"])((function(){return[u]})),_:1}),Object(o["createVNode"])(g,{class:"nav-link",to:"/products"},{default:Object(o["withCtx"])((function(){return[b]})),_:1})])])])],2),Object(o["createVNode"])(j)],64)}c("99af");var f=c("aee4"),v={class:"dropdown-menu dropdown-menu-end mt-2 p-3",style:{"min-width":"400px"}},g={class:"d-flex justify-content-between align-items-center"},h={class:"cart-content d-flex"},j=Object(o["createVNode"])("i",{class:"btn-outline-danger border-0 rounded-2 material-icons p-1"},"delete",-1),m={class:"cart-item ms-2"},O={class:"fs-6 m-0"},x={class:"fs-6"},y={class:"input-group input-group-sm w-40"},w=Object(o["createVNode"])("i",{class:"material-icons",style:{width:"24px"}},"add",-1),V={class:"d-grid gap-2"},N=Object(o["createTextVNode"])("結帳去"),k=Object(o["createVNode"])("p",{class:"text-center"},"購物車是空的唷！",-1),C={class:"d-grid gap-2"},L=Object(o["createTextVNode"])("訂餐去");function B(t,e,c,r,a,n){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("div",v,[a.cartList.carts&&0!==a.cartList.carts.length?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:0},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(a.cartList.carts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:e.id+"1",class:"mb-3"},[Object(o["createVNode"])("div",g,[Object(o["createVNode"])("div",h,[Object(o["createVNode"])("a",{href:"#",onClick:Object(o["withModifiers"])((function(t){return n.deleteCart(e.id)}),["prevent"]),class:" d-flex-center align-items-center"},[j],8,["onClick"]),Object(o["createVNode"])("div",{style:[{"background-image":"url(".concat(e.product.imageUrl)},{"background-size":"cover","background-position":"center center",height:"50px",width:"80px"}]},null,4),Object(o["createVNode"])("div",m,[Object(o["createVNode"])("h4",O,Object(o["toDisplayString"])(e.product.title),1),Object(o["createVNode"])("small",x,"$"+Object(o["toDisplayString"])(t.$toCurrency("".concat(e.total))),1)])]),Object(o["createVNode"])("div",y,[Object(o["createVNode"])("button",{class:["btn btn-sm btn-outline-primary",{disabled:e.qty<=1}],type:"button"},[Object(o["createVNode"])("i",{class:"material-icons",onClick:function(t){return n.editCart(e,e.qty-1)},style:{width:"24px"}},"remove",8,["onClick"])],2),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",min:"1",class:"form-control qty-input",disabled:"","onUpdate:modelValue":function(t){return e.qty=t}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.qty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{class:"btn btn-sm btn-outline-primary",type:"button",onClick:function(t){return n.editCart(e,e.qty+1)}},[w],8,["onClick"])])])])})),128)),Object(o["createVNode"])("div",V,[Object(o["createVNode"])(i,{to:"/cart",class:"btn btn-primary"},{default:Object(o["withCtx"])((function(){return[N]})),_:1})])],64)):(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:1},[k,Object(o["createVNode"])("div",C,[Object(o["createVNode"])(i,{to:"/products",class:"btn btn-primary"},{default:Object(o["withCtx"])((function(){return[L]})),_:1})])],64))])}var T={data:function(){return{cartList:{},isLoading:!1}},props:["cart"],emits:["getCart"],methods:{editCart:function(t,e){var c=this;this.isLoading=!0;var o={data:{product_id:t.product.id,qty:e}},r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart/").concat(t.id);this.$http.put(r,o).then((function(t){t.data.success&&(c.isLoading=!1,f["a"].emit("product-cart"))})).catch((function(t){console.log(t)}))},deleteCart:function(t){var e=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart/").concat(t);this.$http.delete(c).then((function(t){t.data.success&&(e.isLoading=!1,e.$swal({toast:!0,title:"已成功刪除餐點",icon:"success",timer:1500,showConfirmButton:!1,position:"top"}),e.$emit("getCart"),f["a"].emit("product-cart"))})).catch((function(t){console.log(t)}))}},watch:{cart:function(){this.cartList=this.cart}}};T.render=B;var F=T,_={data:function(){return{cart:{carts:{}},classList:{"bg-color":"bg-secondary","text-color":"text-primary","i-color":""}}},components:{dropdown:F},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart");this.$http.get(e).then((function(e){e.data.success&&(t.cart=e.data.data)})).catch((function(t){console.log(t)}))},scrollFunction:function(){var t=window.scrollY,e=window.innerHeight;this.classList=t>e?{"bg-color":"bg-primary","navbar-color":"navbar-dark","text-color":"","i-color":"text-white"}:{"bg-color":"bg-secondary","navbar-color":"navbar-light","text-color":"text-primary","i-color":""}}},mounted:function(){var t=this;this.getCart(),f["a"].on("product-cart",(function(){t.getCart()})),window.addEventListener("scroll",this.scrollFunction)},unmounted:function(){window.removeEventListener("scroll",this.scrollFunction)}};_.render=p;e["default"]=_},e8b5:function(t,e,c){var o=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-099f9d4c.715bc2df.js.map