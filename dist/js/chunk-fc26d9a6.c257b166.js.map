{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/Admin/Order.vue","webpack:///./src/components/EditOrderModal.vue","webpack:///./src/components/EditOrderModal.vue?ec69","webpack:///./src/views/Admin/Order.vue?c609","webpack:///./src/assets/js/modal.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","aria-label","pages","has_pre","href","$emit","current_page","total_pages","page","key","has_next","props","render","scope","active","isLoading","orderList","length","deleteAll","order","id","deleteOrder","user","name","email","Date","create_at","getFullYear","getMonth","getDate","is_paid","type","editOrder","pagination","getOrder","ref","temp-order","tempOrder","data-bs-dismiss","for","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","aria-labelledby","data-bs-parent","disabled","temp","tel","address","message","total","value","data","modal","mixins","emits","methods","this","$swal","toast","title","icon","timer","showConfirmButton","position","url","$http","put","then","res","success","hideModal","catch","err","console","log","watch","components","editModal","get","orders","delete","JSON","parse","stringify","$refs","openModal","created","show","hide","mounted","Modal","backdrop","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-fc26d9a6.c257b166.js","sourcesContent":["<template>\r\n  <div class=\"d-flex-center\">\r\n    <nav aria-label=\"Page navigation\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre}\"><a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('getList', pages.current_page-1)\">上一頁</a></li>\r\n        <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{ active: pages.current_page === page }\">\r\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('getList', page)\">{{ page }}</a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{ disabled: !pages.has_next}\" ><a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('getList', pages.current_page+1)\">下一頁</a></li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages']\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=3a111739\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div>\r\n    <loading v-model:active=\"isLoading\"/>\r\n    <div class=\"container py-3 mt-5\">\r\n      <h1 class=\"text-center mb-4 text-primary fs-2\"><strong class=\"border-bottom border-primary d-inline-block border-4 pb-2\">訂單列表</strong></h1>\r\n      <div class=\"d-flex justify-content-end\">\r\n        <button class=\"btn btn-danger\" v-if=\"orderList.length >=2\" @click=\"deleteAll\">刪除所有訂單</button>\r\n      </div>\r\n      <table class=\"table mt-3\">\r\n        <thead>\r\n          <tr class=\"text-center\">\r\n            <th scope=\"col\"></th>\r\n            <th scope=\"col\">訂單編號</th>\r\n            <th scope=\"col\">訂購人姓名</th>\r\n            <th scope=\"col\">訂購人 Email</th>\r\n            <th scope=\"col\">訂購日期</th>\r\n            <th scope=\"col\">是否付款</th>\r\n            <th scope=\"col\">編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"order in orderList\" :key=\"order.id\">\r\n            <td><a href=\"#\" @click.prevent=\"deleteOrder(order.id)\" class=\"d-flex-center align-items-center\"><i class=\"btn-outline-danger border-0 rounded-2 material-icons p-1\">delete</i></a></td>\r\n            <td>{{ order.id }}</td>\r\n            <td>{{ order.user.name }}</td>\r\n            <td>{{ order.user.email }}</td>\r\n            <td>{{ new Date(order.create_at*1000).getFullYear() }}/{{ new Date(order.create_at*1000).getMonth()+1 }}/{{ new Date(order.create_at*1000).getDate() }}</td>\r\n            <td>{{ order.is_paid ? '已付款':'未付款' }}</td>\r\n            <td>\r\n              <button class=\"btn btn-primary me-2\" type=\"button\" @click=\"editOrder(order)\">編輯</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <pagination :pages=\"pagination\" @get-list=\"getOrder\"></pagination>\r\n      <editModal ref=\"editModal\" :temp-order='tempOrder' @get-order=\"getOrder\"></editModal>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pagination from '../../components/Pagination.vue'\r\nimport editModal from '../../components/EditOrderModal.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderList: [],\r\n      pagination: [],\r\n      tempOrder: [],\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    pagination,\r\n    editModal\r\n  },\r\n  methods: {\r\n    getOrder (page = 1) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.orderList = res.data.orders\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    deleteOrder (id) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      this.$http.delete(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.$swal({\r\n              toast: true,\r\n              title: '已成功刪除',\r\n              icon: 'success',\r\n              timer: 1500,\r\n              showConfirmButton: false,\r\n              position: 'top'\r\n            })\r\n            this.getOrder()\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    deleteAll () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`\r\n      this.$http.delete(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.$swal({\r\n              toast: true,\r\n              title: '訂單清空囉！',\r\n              icon: 'success',\r\n              timer: 1500,\r\n              showConfirmButton: false,\r\n              position: 'top'\r\n            })\r\n            this.getOrder()\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    editOrder (order) {\r\n      this.tempOrder = JSON.parse(JSON.stringify(order))\r\n      this.$refs.editModal.openModal()\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div>\r\n    <loading v-model:active=\"isLoading\"/>\r\n    <div class=\"modal fade\" id=\"modal\" ref=\"modal\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">訂單編輯</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"orderId\" class=\"form-label\">訂單編號</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"orderId\" disabled v-model=\"temp.id\">\r\n            </div>\r\n            <div class=\"accordion accordion-flush\" id=\"orderAccordion\">\r\n              <div class=\"accordion-item\">\r\n                <h2 class=\"accordion-header\" id=\"flush-headingOne\">\r\n                  <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#flush-collapseOne\" aria-expanded=\"false\" aria-controls=\"flush-collapseOne\">\r\n                    訂購人資訊\r\n                  </button>\r\n                </h2>\r\n                <div id=\"flush-collapseOne\" class=\"accordion-collapse collapse\" aria-labelledby=\"flush-headingOne\" data-bs-parent=\"#orderAccordion\">\r\n                  <div class=\"accordion-body\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"orderName\" class=\"form-label\">訂單人姓名</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"orderName\" v-model=\"temp.user.name\">\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"email\" class=\"form-label\">訂單人Email</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"email\" v-model=\"temp.user.email\">\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"tel\" class=\"form-label\">訂單人電話</label>\r\n                      <input type=\"tel\" class=\"form-control\" id=\"tel\" v-model=\"temp.user.tel\">\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"address\" class=\"form-label\">訂單人地址</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"address\" v-model=\"temp.user.address\">\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"message\" class=\"form-label\">留言</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"message\" v-model=\"temp.message\" disabled>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"accordion-item\">\r\n                <h2 class=\"accordion-header\" id=\"flush-headingTwo\">\r\n                  <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#flush-collapseTwo\" aria-expanded=\"false\" aria-controls=\"flush-collapseTwo\">\r\n                    訂單資訊\r\n                  </button>\r\n                </h2>\r\n                <div id=\"flush-collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"flush-headingTwo\" data-bs-parent=\"#orderAccordion\">\r\n                  <div class=\"accordion-body\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"total\" class=\"form-label\">訂單總額 <small class=\"text-danger\">*必填</small></label>\r\n                      <input type=\"number\" class=\"form-control\" id=\"total\" v-model.number=\"temp.total\">\r\n                    </div>\r\n                    <div class=\"form-check\">\r\n                      <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"isPaid\" v-model=\"temp.is_paid\">\r\n                      <label class=\"form-check-label\" for=\"isPaid\">\r\n                        是否付款\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"editOrder\">確認</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '../assets/js/modal.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      temp: {\r\n        user: {}\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  mixins: [modalMixin],\r\n  emits: ['getOrder'],\r\n  props: ['tempOrder'],\r\n  methods: {\r\n    editOrder () {\r\n      this.isLoading = true\r\n      if (!this.temp.total) {\r\n        this.isLoading = false\r\n        this.$swal({\r\n          toast: true,\r\n          title: '必填項目都要填寫唷！',\r\n          icon: 'error',\r\n          timer: 1500,\r\n          showConfirmButton: false,\r\n          position: 'top'\r\n        })\r\n        return\r\n      }\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.temp.id}`\r\n      this.$http.put(url, { data: this.temp })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.$swal({\r\n              toast: true,\r\n              title: '編輯成功',\r\n              icon: 'success',\r\n              timer: 1500,\r\n              showConfirmButton: false,\r\n              position: 'top'\r\n            })\r\n            this.hideModal()\r\n            this.$emit('getOrder')\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  watch: {\r\n    tempOrder () {\r\n      this.temp = this.tempOrder\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./EditOrderModal.vue?vue&type=template&id=0f6553b6\"\nimport script from \"./EditOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./EditOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Order.vue?vue&type=template&id=4f8dc3fe\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n  methods: {\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal, {\r\n      backdrop: 'static'\r\n    })\r\n  }\r\n}\r\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}