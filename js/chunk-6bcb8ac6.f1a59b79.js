(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bcb8ac6"],{"159b":function(e,t,o){var c=o("da84"),r=o("fdbc"),i=o("17c2"),n=o("9112");for(var a in r){var s=c[a],d=s&&s.prototype;if(d&&d.forEach!==i)try{n(d,"forEach",i)}catch(l){d.forEach=i}}},"17c2":function(e,t,o){"use strict";var c=o("b727").forEach,r=o("a640"),i=r("forEach");e.exports=i?[].forEach:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,o){var c=o("d039"),r=o("b622"),i=o("2d00"),n=r("species");e.exports=function(e){return i>=51||!c((function(){var t=[],o=t.constructor={};return o[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,o){"use strict";var c=o("23e7"),r=o("5a34"),i=o("1d80"),n=o("ab13");c({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},5582:function(e,t,o){"use strict";o.r(t);o("caad"),o("2532");var c=o("7a23"),r=Object(c["createVNode"])("span",{class:"material-icons goToTop p-3 rounded-circle",style:{"font-size":"32px"}},"arrow_upward",-1),i=Object(c["createVNode"])("div",{class:"favorite-heroheader mb-5"},[Object(c["createVNode"])("div",{class:"container"},[Object(c["createVNode"])("h2",{"data-aos":"flip-up",class:"text-white position-absolute top-50 bg-black px-5 py-2 lh-base"}," 美味收藏 ")])],-1),n={class:"container pb-6"},a=Object(c["createVNode"])("h3",{class:"text-center my-5 text-primary"},[Object(c["createVNode"])("strong",{"data-aos":"flip-up",class:"border-bottom border-primary d-inline-block border-4 pb-2"},"我的最愛")],-1),s=Object(c["createVNode"])("i",{class:"material-icons me-2"},"delete",-1),d=Object(c["createTextVNode"])("刪除所有收藏"),l={key:1,class:"row mt-3 d-flex-center"},u={class:"card h-100 shadow border-0"},f={class:"card-img position-relative"},p={class:"card-content position-absolute"},b={class:"card-body"},v={class:"d-flex justify-content-between align-items-center"},h={class:"content"},g={class:"card-title"},O={class:"me-2"},j={class:"fw-bold card-text text-danger fs-5"},m={class:"product-icons d-flex align-tiems-center"},w={key:0,class:"material-icons clickFavorite"},x={key:1,class:"material-icons"},y=Object(c["createVNode"])("i",{class:"material-icons",style:{"font-size":"28px"}},"add_shopping_cart",-1),k={key:2,class:"d-flex-center flex-column align-items-center mb-3 py-3 shadow-sm"},N=Object(c["createVNode"])("p",{class:"text-center"},"收藏清單是空的唷！",-1),V=Object(c["createTextVNode"])("選餐去");function B(e,t,o,B,C,L){var T=Object(c["resolveComponent"])("Loading"),F=Object(c["resolveComponent"])("router-link"),E=Object(c["resolveComponent"])("FooterSection");return Object(c["openBlock"])(),Object(c["createBlock"])("section",null,[C.showTop?(Object(c["openBlock"])(),Object(c["createBlock"])("a",{key:0,href:"#",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(){return L.goTop&&L.goTop.apply(L,arguments)}),["prevent"]))},[r])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(T,{"is-loading":C.isLoading},null,8,["is-loading"]),i,Object(c["createVNode"])("div",n,[a,C.favoriteList&&C.favoriteList.length>=2?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,class:"btn btn-outline-danger border-0 d-flex align-items-center mb-3",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(){return L.deleteAllFavorite&&L.deleteAllFavorite.apply(L,arguments)}),["prevent"]))},[s,d])):Object(c["createCommentVNode"])("",!0),C.favoriteList&&0!==C.favoriteList.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(C.favoriteList,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"col-lg-4 col-xl-3 mb-4",key:e.id},[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",p,[Object(c["createVNode"])(F,{to:{path:"/product/".concat(e.id)},class:"text"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.content),1)]})),_:2},1032,["to"])]),Object(c["createVNode"])("div",{class:"new-img",style:[{"background-image":"url(".concat(e.imageUrl)},{"background-size":"cover","background-position":"20% center"}]},null,4)]),Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",v,[Object(c["createVNode"])("div",h,[Object(c["createVNode"])("h5",g,[Object(c["createVNode"])("strong",null,Object(c["toDisplayString"])(e.title),1)]),Object(c["createVNode"])("del",O,"原價： "+Object(c["toDisplayString"])(e.origin_price)+" 元",1),Object(c["createVNode"])("p",j,"優惠價："+Object(c["toDisplayString"])(e.price)+" 元",1)]),Object(c["createVNode"])("div",m,[Object(c["createVNode"])("a",{href:"#",class:"btn addFavoriteBtn",onClick:Object(c["withModifiers"])((function(t){return L.removeMyFavorite(e)}),["prevent"])},[C.favorites.includes(e.id)?(Object(c["openBlock"])(),Object(c["createBlock"])("i",w,"favorite")):(Object(c["openBlock"])(),Object(c["createBlock"])("i",x,"favorite_border"))],8,["onClick"]),Object(c["createVNode"])("a",{href:"#",class:"btn addCartBtn",onClick:Object(c["withModifiers"])((function(t){return L.addToCart(e.id)}),["prevent"])},[y],8,["onClick"])])])])])])})),128))])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",k,[N,Object(c["createVNode"])(F,{to:"/products",class:"btn btn-primary px-5"},{default:Object(c["withCtx"])((function(){return[V]})),_:1})]))]),Object(c["createVNode"])(E)])}o("99af"),o("159b"),o("a434");var C=o("8917"),L=o("7ccb"),T=o("7475"),F=o("aee4"),E={data:function(){return{favoriteList:[],isLoading:!1,products:[],favorites:T["a"].get()||[],showTop:!1}},components:{FooterSection:C["a"],Loading:L["a"]},methods:{getProducts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/products/all");this.$http.get(t).then((function(t){t.data.success&&(e.isLoading=!1,e.products=t.data.products,e.getFavorites())})).catch((function(t){t&&(e.isLoading=!1,e.$swal({toast:!0,title:"無法取得餐點列表，請聯繫管理員",icon:"error",timer:1500,showConfirmButton:!1,position:"top"}))}))},getFavorites:function(){var e=this;this.favoriteList=[],this.favorites.forEach((function(t){e.products.forEach((function(o){o.id===t&&e.favoriteList.push(o)}))}))},removeMyFavorite:function(e){this.favorites.splice(this.favorites.indexOf(e.id),1),T["a"].save(this.favorites),F["a"].emit("favorite"),this.getFavorites()},addToCart:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var c={data:{product_id:e,qty:o}},r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart");this.$http.post(r,c).then((function(e){e.data.success&&(t.isLoading=!1,t.$swal({toast:!0,title:"成功加入購物車",icon:"success",timer:1500,showConfirmButton:!1,position:"top"}),F["a"].emit("product-cart"))})).catch((function(e){e&&(t.isLoading=!1,t.$swal({toast:!0,title:"無法加入購物車，請聯繫管理員",icon:"error",timer:1500,showConfirmButton:!1,position:"top"}))}))},deleteAllFavorite:function(){this.favorites=[],T["a"].save(this.favorites),F["a"].emit("favorite"),this.getFavorites(),this.$swal({toast:!0,title:"清空收藏囉！",icon:"success",timer:1500,showConfirmButton:!1,position:"top"})},scrollTop:function(){var e=window.scrollY,t=window.innerHeight;this.showTop=e>t},goTop:function(){window.scroll({top:0,behavior:"smooth"})}},mounted:function(){this.getProducts(),window.addEventListener("scroll",this.scrollTop)},unmounted:function(){window.removeEventListener("scroll",this.scrollTop)}};E.render=B;t["default"]=E},"5a34":function(e,t,o){var c=o("44e7");e.exports=function(e){if(c(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,o){var c=o("861d"),r=o("e8b5"),i=o("b622"),n=i("species");e.exports=function(e,t){var o;return r(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!r(o.prototype)?c(o)&&(o=o[n],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}},7475:function(e,t,o){"use strict";t["a"]={save:function(e){var t=JSON.stringify(e);localStorage.setItem("brunchFavorite",t)},get:function(){return JSON.parse(localStorage.getItem("brunchFavorite"))}}},"7ccb":function(e,t,o){"use strict";var c=o("7a23"),r=Object(c["createVNode"])("div",{class:"loadingio-spinner-ellipsis-rg3crixpxzh"},[Object(c["createVNode"])("div",{class:"ldio-zmt4lrj3aj"},[Object(c["createVNode"])("div"),Object(c["createVNode"])("div"),Object(c["createVNode"])("div"),Object(c["createVNode"])("div"),Object(c["createVNode"])("div")])],-1);function i(e,t,o,i,n,a){var s=Object(c["resolveComponent"])("loading",!0);return Object(c["openBlock"])(),Object(c["createBlock"])(s,{active:e.isLoading,"onUpdate:active":t[1]||(t[1]=function(t){return e.isLoading=t})},{default:Object(c["withCtx"])((function(){return[r]})),_:1},8,["active"])}var n={props:["is-loading"]};n.render=i;t["a"]=n},8418:function(e,t,o){"use strict";var c=o("c04e"),r=o("9bf2"),i=o("5c6c");e.exports=function(e,t,o){var n=c(t);n in e?r.f(e,n,i(0,o)):e[n]=o}},8917:function(e,t,o){"use strict";var c=o("7a23"),r={class:"text-white bg-primary text-center py-4"},i=Object(c["createVNode"])("h2",{class:"h1 logo text-shadow"},"FRESH BRUNCH",-1),n=Object(c["createVNode"])("p",{class:"mb-0 mt-2"},"© 2021 All Rights Reserved.",-1);function a(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("footer",r,[i,n])}const s={};s.render=a;t["a"]=s},"99af":function(e,t,o){"use strict";var c=o("23e7"),r=o("d039"),i=o("e8b5"),n=o("861d"),a=o("7b0b"),s=o("50c4"),d=o("8418"),l=o("65f0"),u=o("1dde"),f=o("b622"),p=o("2d00"),b=f("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",g=p>=51||!r((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),O=u("concat"),j=function(e){if(!n(e))return!1;var t=e[b];return void 0!==t?!!t:i(e)},m=!g||!O;c({target:"Array",proto:!0,forced:m},{concat:function(e){var t,o,c,r,i,n=a(this),u=l(n,0),f=0;for(t=-1,c=arguments.length;t<c;t++)if(i=-1===t?n:arguments[t],j(i)){if(r=s(i.length),f+r>v)throw TypeError(h);for(o=0;o<r;o++,f++)o in i&&d(u,f,i[o])}else{if(f>=v)throw TypeError(h);d(u,f++,i)}return u.length=f,u}})},a434:function(e,t,o){"use strict";var c=o("23e7"),r=o("23cb"),i=o("a691"),n=o("50c4"),a=o("7b0b"),s=o("65f0"),d=o("8418"),l=o("1dde"),u=l("splice"),f=Math.max,p=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var o,c,l,u,h,g,O=a(this),j=n(O.length),m=r(e,j),w=arguments.length;if(0===w?o=c=0:1===w?(o=0,c=j-m):(o=w-2,c=p(f(i(t),0),j-m)),j+o-c>b)throw TypeError(v);for(l=s(O,c),u=0;u<c;u++)h=m+u,h in O&&d(l,u,O[h]);if(l.length=c,o<c){for(u=m;u<j-c;u++)h=u+c,g=u+o,h in O?O[g]=O[h]:delete O[g];for(u=j;u>j-c+o;u--)delete O[u-1]}else if(o>c)for(u=j-c;u>m;u--)h=u+c-1,g=u+o-1,h in O?O[g]=O[h]:delete O[g];for(u=0;u<o;u++)O[u+m]=arguments[u+2];return O.length=j-c+o,l}})},ab13:function(e,t,o){var c=o("b622"),r=c("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[r]=!1,"/./"[e](t)}catch(c){}}return!1}},aee4:function(e,t,o){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,o){var c=e.get(t);c?c.push(o):e.set(t,[o])},off:function(t,o){var c=e.get(t);c&&(o?c.splice(c.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var c=e.get(t);c&&c.slice().map((function(e){e(o)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,o)}))}}};t["a"]=c()},b727:function(e,t,o){var c=o("0366"),r=o("44ad"),i=o("7b0b"),n=o("50c4"),a=o("65f0"),s=[].push,d=function(e){var t=1==e,o=2==e,d=3==e,l=4==e,u=6==e,f=7==e,p=5==e||u;return function(b,v,h,g){for(var O,j,m=i(b),w=r(m),x=c(v,h,3),y=n(w.length),k=0,N=g||a,V=t?N(b,y):o||f?N(b,0):void 0;y>k;k++)if((p||k in w)&&(O=w[k],j=x(O,k,m),e))if(t)V[k]=j;else if(j)switch(e){case 3:return!0;case 5:return O;case 6:return k;case 2:s.call(V,O)}else switch(e){case 4:return!1;case 7:s.call(V,O)}return u?-1:d||l?l:V}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},caad:function(e,t,o){"use strict";var c=o("23e7"),r=o("4d64").includes,i=o("44d2");c({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e8b5:function(e,t,o){var c=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-6bcb8ac6.f1a59b79.js.map